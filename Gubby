-- // Gui Creator Script
local player = game.Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- check game id
local isGAGGame = (game.PlaceId == 126884695634066)

-- main screen gui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "LuaWareUI"
screenGui.Parent = playerGui

-- helper: rounded corners
local function roundify(obj, radius)
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, radius)
    corner.Parent = obj
end

-- sizes
local BORDER_THICK = 3
local WIDTH, HEIGHT = 200, 250
local CORNER_RADIUS = 12

-- border frame (solid yellow border)
local borderFrame = Instance.new("Frame")
borderFrame.Name = "LuaWareBorder"
borderFrame.Size = UDim2.new(0, WIDTH, 0, HEIGHT)
borderFrame.Position = UDim2.new(0, 10, 0, 10)
borderFrame.BackgroundColor3 = Color3.fromRGB(255, 255, 0) -- solid yellow
borderFrame.Parent = screenGui
roundify(borderFrame, CORNER_RADIUS)

-- inner container inset from border
local container = Instance.new("Frame")
container.Name = "LuaWareContainer"
container.Size = UDim2.new(1, -BORDER_THICK * 2, 1, -BORDER_THICK * 2)
container.Position = UDim2.new(0, BORDER_THICK, 0, BORDER_THICK)
container.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
container.Parent = borderFrame
roundify(container, CORNER_RADIUS - 2)

-- LuaWare + optional GAG title
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 40)
title.BackgroundTransparency = 1
title.RichText = true
if isGAGGame then
    title.Text = 'LuaWare <font color="#ff4444">| GAG</font>'
else
    title.Text = "LuaWare"
end
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.TextSize = 24
title.Font = Enum.Font.GothamBold
title.Parent = container

-- selected button tracking
local selectedCategory = nil
local function makeCategoryButton(name, yPos, onClick)
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(0.9, 0, 0, 30)
    btn.Position = UDim2.new(0.05, 0, 0, yPos)
    btn.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    btn.Text = name
    btn.TextColor3 = Color3.fromRGB(255, 255, 255)
    btn.TextSize = 18
    btn.Font = Enum.Font.Gotham
    btn.Parent = container
    roundify(btn, 8)

    btn.MouseButton1Click:Connect(function()
        if selectedCategory then
            selectedCategory.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
        end
        selectedCategory = btn
        btn.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
        if onClick then onClick() end
    end)
end

-- function to spawn the extra GUI
local function spawnExtraGui()
    -- check if it already exists
    if screenGui:FindFirstChild("ExtraGui") then return end

    local extraFrame = Instance.new("Frame")
    extraFrame.Name = "ExtraGui"
    extraFrame.Size = UDim2.new(0, WIDTH, 0, HEIGHT)
    extraFrame.Position = UDim2.new(0, 10 + WIDTH + 10, 0, 10) -- placed right next to first gui
    extraFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    extraFrame.Parent = screenGui
    roundify(extraFrame, CORNER_RADIUS)

    -- close button
    local closeBtn = Instance.new("TextButton")
    closeBtn.Size = UDim2.new(0, 25, 0, 25)
    closeBtn.Position = UDim2.new(1, -30, 0, 5)
    closeBtn.BackgroundColor3 = Color3.fromRGB(255, 60, 60)
    closeBtn.Text = "X"
    closeBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
    closeBtn.TextSize = 18
    closeBtn.Font = Enum.Font.GothamBold
    closeBtn.Parent = extraFrame
    roundify(closeBtn, 6)

    closeBtn.MouseButton1Click:Connect(function()
        extraFrame:Destroy()
    end)
end

-- credits button
makeCategoryButton("Credits", 50)

-- main category button (spawns extra gui)
makeCategoryButton("Main Category", 90, spawnExtraGui)

-- toggle button (crescent moon image)
local toggleBtn = Instance.new("ImageButton")
toggleBtn.Size = UDim2.new(0, 40, 0, 40)
toggleBtn.Position = UDim2.new(0, 220, 0, 10)
toggleBtn.BackgroundTransparency = 1
toggleBtn.Image = "rbxassetid://11884398366" -- crescent moon decal (you can replace)
toggleBtn.Parent = screenGui
roundify(toggleBtn, 8)

local visible = true
toggleBtn.MouseButton1Click:Connect(function()
    visible = not visible
    borderFrame.Visible = visible
end)
